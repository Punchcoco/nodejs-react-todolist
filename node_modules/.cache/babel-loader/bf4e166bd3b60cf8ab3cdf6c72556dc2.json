{"ast":null,"code":"import _regeneratorRuntime from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/huotv/Documents/dev/mern-todo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/huotv/Documents/dev/mern-todo/src/components/todos-list.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nvar Todo = function Todo(props) {\n  return React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    className: props.todo.todo_completed ? 'completed' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7\n    },\n    __self: this\n  }, props.todo.todo_description), React.createElement(\"td\", {\n    className: props.todo.todo_completed ? 'completed' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, props.todo.todo_responsible), React.createElement(\"td\", {\n    className: props.todo.todo_completed ? 'completed' : '',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, props.todo.todo_priority), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/edit/\" + props.todo._id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, \"Edit\")));\n};\n\nvar TodosList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TodosList, _Component);\n\n  function TodosList(props) {\n    var _this;\n\n    _classCallCheck(this, TodosList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TodosList).call(this, props));\n    _this.onLoadUser =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 4;\n              return axios.get('http://localhost:4000/todos', {\n                cancelToken: _this.signal.token\n              });\n\n            case 4:\n              response = _context.sent;\n\n              _this.setState({\n                todos: response.data,\n                isLoading: true\n              });\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (axios.isCancel(_context.t0)) {\n                console.log('Error: ', _context.t0.message); // => prints: Api is being canceled\n              } else {\n                _this.setState({\n                  isLoading: false\n                });\n              }\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n    _this.state = {\n      todos: [],\n      isLoading: false\n    };\n    _this.signal = axios.CancelToken.source();\n    return _this;\n  }\n\n  _createClass(TodosList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.onLoadUser();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.signal.cancel('Api is being canceled');\n    }\n  }, {\n    key: \"todoList\",\n    value: function todoList() {\n      return this.state.todos.map(function (x, i) {\n        return React.createElement(Todo, {\n          todo: x,\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Todos List\"), React.createElement(\"table\", {\n        className: \"table table-striped\",\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Responsible\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Priority\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Action\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.todoList())));\n    }\n  }]);\n\n  return TodosList;\n}(Component);\n\nexport { TodosList as default };","map":{"version":3,"sources":["/home/huotv/Documents/dev/mern-todo/src/components/todos-list.component.js"],"names":["React","Component","axios","Link","Todo","props","todo","todo_completed","todo_description","todo_responsible","todo_priority","_id","TodosList","onLoadUser","setState","isLoading","get","cancelToken","signal","token","response","todos","data","isCancel","console","log","message","state","CancelToken","source","cancel","map","x","i","marginTop","todoList"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\n\nconst Todo = props =>(\n  <tr>\n    <td className={props.todo.todo_completed ? 'completed' : ''}>{props.todo.todo_description}</td>\n    <td className={props.todo.todo_completed ? 'completed' : ''}>{props.todo.todo_responsible}</td>\n    <td className={props.todo.todo_completed ? 'completed' : ''}>{props.todo.todo_priority}</td>\n    <td>\n      <Link to={\"/edit/\"+props.todo._id}>Edit</Link>\n    </td>\n  </tr>\n)\n\nexport default class TodosList extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {todos:[],isLoading:false};\n    this.signal = axios.CancelToken.source();\n\n  }\n\n  componentDidMount() {\n    this.onLoadUser();\n  }\n\n\n\n  componentWillUnmount() {\n    this.signal.cancel('Api is being canceled');\n}\n\n    onLoadUser = async () => {\n    try {\n      this.setState({ isLoading: true });\n      const response = await axios.get('http://localhost:4000/todos', {\n        cancelToken: this.signal.token,\n      })\n      this.setState({todos: response.data, isLoading: true });\n    } catch (err) {\n      if (axios.isCancel(err)) {\n        console.log('Error: ', err.message); // => prints: Api is being canceled\n      } else {\n        this.setState({ isLoading: false });\n      }\n    }\n    }\n\n    todoList(){\n      return this.state.todos.map((x,i)=>{\n        return <Todo todo={x} key={i} />;\n      })\n    }\n\n\n  render(){\n    return(\n      <div>\n        <h3>Todos List</h3>\n        <table className=\"table table-striped\" style={{marginTop: 20}}>\n          <thead>\n            <tr>\n            <th>Description</th>\n            <th>Responsible</th>\n            <th>Priority</th>\n            <th>Action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.todoList()}\n          </tbody>\n        </table>\n      </div>\n    )\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}